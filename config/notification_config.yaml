# Tigerç³»ç»Ÿ - é€šçŸ¥æ¨é€é…ç½®
# æ›´æ–°æ—¶é—´: 2025-08-11
# ç»´æŠ¤: 10å·çª—å£

# ==================== é€šçŸ¥ä¼˜å…ˆçº§å®šä¹‰ ====================
priority_levels:
  critical:  # ç´§æ€¥
    level: 0
    description: "ç³»ç»Ÿå´©æºƒã€é‡å¤§æŸå¤±é£é™©ã€ç´§æ€¥äº¤æ˜“ä¿¡å·"
    channels: ["email", "telegram", "dingtalk", "phone_call"]
    retry_times: 3
    retry_interval: 60  # ç§’
    
  high:  # é«˜ä¼˜å…ˆçº§
    level: 1
    description: "é‡è¦äº¤æ˜“ä¿¡å·ã€å¤§é¢å¼‚åŠ¨ã€é£é™©é¢„è­¦"
    channels: ["email", "telegram", "dingtalk"]
    retry_times: 2
    retry_interval: 120
    
  medium:  # ä¸­ä¼˜å…ˆçº§
    level: 2
    description: "æ™®é€šäº¤æ˜“ä¿¡å·ã€å¸‚åœºåˆ†æã€æ—¥å¸¸æŠ¥å‘Š"
    channels: ["email", "telegram"]
    retry_times: 1
    retry_interval: 300
    
  low:  # ä½ä¼˜å…ˆçº§
    level: 3
    description: "ä¿¡æ¯æé†’ã€ç»Ÿè®¡æŠ¥å‘Šã€ç³»ç»Ÿæ—¥å¿—"
    channels: ["email"]
    retry_times: 0
    retry_interval: 0

# ==================== é‚®ä»¶é€šçŸ¥é…ç½® ====================
email:
  enabled: true
  
  # SMTPæœåŠ¡å™¨é…ç½®
  smtp:
    # Gmailé…ç½®ç¤ºä¾‹
    gmail:
      host: "smtp.gmail.com"
      port: 587
      use_tls: true
      username: "a368070666@gmail.com"  # ä½ çš„Gmailåœ°å€
      password: ""  # éœ€è¦è®¾ç½®åº”ç”¨ä¸“ç”¨å¯†ç ï¼ˆè§ä¸‹æ–¹è¯´æ˜ï¼‰
      
    # QQé‚®ç®±é…ç½®
    qq:
      host: "smtp.qq.com"
      port: 587
      use_tls: true
      username: ""  # QQé‚®ç®±åœ°å€
      password: ""  # æˆæƒç 
      
    # 163é‚®ç®±é…ç½®
    163:
      host: "smtp.163.com"
      port: 465
      use_ssl: true
      username: ""  # 163é‚®ç®±åœ°å€
      password: ""  # æˆæƒç 
      
    # Outlooké…ç½®
    outlook:
      host: "smtp-mail.outlook.com"
      port: 587
      use_tls: true
      username: ""  # Outlooké‚®ç®±
      password: ""  # å¯†ç 
      
  # é»˜è®¤ä½¿ç”¨çš„SMTPæœåŠ¡å™¨
  default_provider: "qq"
  
  # å‘ä»¶äººä¿¡æ¯
  sender:
    name: "Tigerç³»ç»Ÿé€šçŸ¥"
    address: "a368070666@gmail.com"  # å‘ä»¶äººé‚®ç®±
    
  # æ”¶ä»¶äººåˆ—è¡¨
  recipients:
    default:
      - "a368070666@gmail.com"  # ä¸»è¦æ”¶ä»¶äººï¼ˆè‡ªå·±ç»™è‡ªå·±å‘ï¼‰
    critical:  # ç´§æ€¥é€šçŸ¥é¢å¤–æ”¶ä»¶äºº
      - "a368070666@gmail.com"
    report:  # æŠ¥å‘Šæ”¶ä»¶äºº
      - "a368070666@gmail.com"
      
  # é‚®ä»¶æ¨¡æ¿
  templates:
    signal:
      subject: "[Tiger] {priority} - {signal_type}äº¤æ˜“ä¿¡å·"
      body: |
        æ—¶é—´: {time}
        ä¿¡å·ç±»å‹: {signal_type}
        å¸ç§: {symbol}
        ä»·æ ¼: ${price}
        å»ºè®®æ“ä½œ: {action}
        åŸå› : {reason}
        
        ---
        Tigeræ™ºèƒ½äº¤æ˜“ç³»ç»Ÿ
        
    alert:
      subject: "[Tigerè­¦æŠ¥] {alert_type}"
      body: |
        è­¦æŠ¥æ—¶é—´: {time}
        è­¦æŠ¥ç±»å‹: {alert_type}
        è­¦æŠ¥çº§åˆ«: {level}
        è¯¦ç»†ä¿¡æ¯: {detail}
        å»ºè®®æ“ä½œ: {suggestion}
        
    report:
      subject: "[TigeræŠ¥å‘Š] {report_type} - {date}"
      body: |
        æŠ¥å‘Šç±»å‹: {report_type}
        æŠ¥å‘Šæ—¶é—´: {time}
        æŠ¥å‘Šå†…å®¹: 
        {content}

# ==================== Telegramé€šçŸ¥é…ç½® ====================
telegram:
  enabled: true
  
  # Boté…ç½®
  bot:
    token: ""  # ä» @BotFather è·å–
    username: ""  # Botç”¨æˆ·å
    
  # é¢‘é“/ç¾¤ç»„é…ç½®
  channels:
    default:
      chat_id: ""  # é»˜è®¤é¢‘é“ID
      name: "Tigerä¸»é¢‘é“"
      
    signals:
      chat_id: ""  # ä¿¡å·é¢‘é“ID
      name: "äº¤æ˜“ä¿¡å·"
      
    alerts:
      chat_id: ""  # è­¦æŠ¥é¢‘é“ID
      name: "é£é™©è­¦æŠ¥"
      
    reports:
      chat_id: ""  # æŠ¥å‘Šé¢‘é“ID
      name: "æ—¥å¸¸æŠ¥å‘Š"
      
  # æ¶ˆæ¯æ ¼å¼
  format:
    parse_mode: "Markdown"  # Markdown/HTML
    disable_notification: false  # æ˜¯å¦é™éŸ³
    
  # æ¶ˆæ¯æ¨¡æ¿
  templates:
    signal: |
      ğŸš€ *äº¤æ˜“ä¿¡å·*
      â° æ—¶é—´: `{time}`
      ğŸ’° å¸ç§: *{symbol}*
      ğŸ’µ ä»·æ ¼: `${price}`
      ğŸ“Š æ“ä½œ: *{action}*
      ğŸ“ åŸå› : {reason}
      
    alert: |
      âš ï¸ *ç³»ç»Ÿè­¦æŠ¥*
      â° æ—¶é—´: `{time}`
      ğŸ”´ ç±»å‹: *{alert_type}*
      ğŸ“Š çº§åˆ«: {level}
      ğŸ“ è¯¦æƒ…: {detail}
      
    report: |
      ğŸ“Š *{report_type}*
      ğŸ“… æ—¥æœŸ: {date}
      â° æ—¶é—´: {time}
      
      {content}

# ==================== é’‰é’‰é€šçŸ¥é…ç½® ====================
dingtalk:
  enabled: true
  
  # æœºå™¨äººé…ç½®
  robots:
    default:
      webhook: ""  # Webhookåœ°å€
      secret: ""   # ç­¾åå¯†é’¥ï¼ˆå¯é€‰ï¼‰
      keywords: ["Tiger", "äº¤æ˜“", "è­¦æŠ¥"]  # å…³é”®è¯
      
    critical:  # ç´§æ€¥é€šçŸ¥ä¸“ç”¨
      webhook: ""
      secret: ""
      at_all: true  # @æ‰€æœ‰äºº
      
  # æ¶ˆæ¯ç±»å‹é…ç½®
  msg_types:
    text:  # æ–‡æœ¬æ¶ˆæ¯
      enabled: true
      
    markdown:  # Markdownæ¶ˆæ¯
      enabled: true
      
    action_card:  # å¡ç‰‡æ¶ˆæ¯
      enabled: false
      
  # æ¶ˆæ¯æ¨¡æ¿
  templates:
    signal:
      title: "Tigeräº¤æ˜“ä¿¡å·"
      text: |
        ## äº¤æ˜“ä¿¡å·
        - æ—¶é—´: {time}
        - å¸ç§: **{symbol}**
        - ä»·æ ¼: ${price}
        - æ“ä½œ: **{action}**
        - åŸå› : {reason}
        
    alert:
      title: "Tigerç³»ç»Ÿè­¦æŠ¥"
      text: |
        ## âš ï¸ ç³»ç»Ÿè­¦æŠ¥
        - æ—¶é—´: {time}
        - ç±»å‹: **{alert_type}**
        - çº§åˆ«: {level}
        - è¯¦æƒ…: {detail}
        
    report:
      title: "Tigerç³»ç»ŸæŠ¥å‘Š"
      text: |
        ## ğŸ“Š {report_type}
        - æ—¥æœŸ: {date}
        - æ—¶é—´: {time}
        
        {content}

# ==================== Webhooké€šçŸ¥é…ç½® ====================
webhook:
  enabled: true
  
  # Webhookç«¯ç‚¹åˆ—è¡¨
  endpoints:
    default:
      url: ""  # Webhook URL
      method: "POST"
      headers:
        Content-Type: "application/json"
        Authorization: "Bearer {token}"
      timeout: 30
      
    critical:
      url: ""
      method: "POST"
      priority: true
      
  # æ•°æ®æ ¼å¼
  payload_format:
    type: "json"  # json/form
    
  # è´Ÿè½½æ¨¡æ¿
  templates:
    standard: |
      {
        "timestamp": "{timestamp}",
        "type": "{msg_type}",
        "priority": "{priority}",
        "data": {
          "title": "{title}",
          "content": "{content}",
          "metadata": {metadata}
        }
      }

# ==================== ä¼ä¸šå¾®ä¿¡é€šçŸ¥ ====================
wechat_work:
  enabled: false
  
  # åº”ç”¨é…ç½®
  app:
    corp_id: ""     # ä¼ä¸šID
    agent_id: ""    # åº”ç”¨ID
    secret: ""      # åº”ç”¨å¯†é’¥
    
  # æ¥æ”¶äººé…ç½®
  receivers:
    users: []       # ç”¨æˆ·åˆ—è¡¨
    parties: []     # éƒ¨é—¨åˆ—è¡¨
    tags: []        # æ ‡ç­¾åˆ—è¡¨
    
  # æ¶ˆæ¯æ¨¡æ¿
  templates:
    text:
      content: "{content}"
      
    markdown:
      content: "{content}"
      
    card:
      title: "{title}"
      description: "{description}"
      url: "{url}"

# ==================== Slacké€šçŸ¥ ====================
slack:
  enabled: false
  
  # Boté…ç½®
  bot:
    token: ""  # Bot User OAuth Token
    
  # é¢‘é“é…ç½®
  channels:
    default: "#general"
    signals: "#trading-signals"
    alerts: "#alerts"
    
  # æ¶ˆæ¯æ ¼å¼
  format:
    username: "Tiger Bot"
    icon_emoji: ":tiger:"
    
  # æ¶ˆæ¯æ¨¡æ¿
  templates:
    signal:
      text: "New trading signal"
      blocks: []  # Slack blocksæ ¼å¼

# ==================== Discordé€šçŸ¥ ====================
discord:
  enabled: false
  
  # Webhooké…ç½®
  webhooks:
    default:
      url: ""  # Discord Webhook URL
      username: "Tiger Bot"
      avatar_url: ""
      
  # åµŒå…¥æ¶ˆæ¯æ¨¡æ¿
  embeds:
    signal:
      title: "Trading Signal"
      color: 0x00ff00  # ç»¿è‰²
      fields: []
      
    alert:
      title: "System Alert"
      color: 0xff0000  # çº¢è‰²
      fields: []

# ==================== çŸ­ä¿¡é€šçŸ¥ ====================
sms:
  enabled: false
  
  # æœåŠ¡æä¾›å•†
  providers:
    # é˜¿é‡Œäº‘çŸ­ä¿¡
    aliyun:
      access_key: ""
      secret: ""
      sign_name: ""
      template_code: ""
      
    # è…¾è®¯äº‘çŸ­ä¿¡
    tencent:
      app_id: ""
      app_key: ""
      sign: ""
      template_id: ""
      
    # Twilio
    twilio:
      account_sid: ""
      auth_token: ""
      from_number: ""
      
  # é»˜è®¤æä¾›å•†
  default_provider: "aliyun"
  
  # æ¥æ”¶å·ç 
  recipients:
    default: []
    critical: []  # ç´§æ€¥é€šçŸ¥å·ç 

# ==================== è¯­éŸ³ç”µè¯é€šçŸ¥ ====================
phone_call:
  enabled: false
  
  # ä»…ç”¨äºæœ€ç´§æ€¥æƒ…å†µ
  providers:
    # é˜¿é‡Œäº‘è¯­éŸ³
    aliyun:
      access_key: ""
      secret: ""
      called_show: ""  # ä¸»å«å·ç 
      tts_code: ""      # è¯­éŸ³æ¨¡æ¿
      
    # Twilioè¯­éŸ³
    twilio:
      account_sid: ""
      auth_token: ""
      from_number: ""
      
  # é»˜è®¤æä¾›å•†
  default_provider: "twilio"
  
  # æ¥æ”¶å·ç ï¼ˆä»…ç´§æ€¥ï¼‰
  recipients:
    critical: []

# ==================== æ¨é€æœåŠ¡ ====================
push:
  enabled: false
  
  # iOSæ¨é€
  ios:
    # APNsé…ç½®
    apns:
      cert_file: ""
      key_file: ""
      use_sandbox: false
      
  # Androidæ¨é€
  android:
    # FCMé…ç½®
    fcm:
      server_key: ""
      
  # ç»Ÿä¸€æ¨é€
  unified:
    # æå…‰æ¨é€
    jpush:
      app_key: ""
      master_secret: ""

# ==================== é€šçŸ¥è§„åˆ™é…ç½® ====================
rules:
  # æ—¶é—´è§„åˆ™
  time_rules:
    # å…æ‰“æ‰°æ—¶æ®µ
    do_not_disturb:
      enabled: false
      start: "23:00"
      end: "07:00"
      exceptions: ["critical"]  # ä¾‹å¤–çº§åˆ«
      
    # å·¥ä½œæ—¶é—´
    working_hours:
      enabled: false
      days: ["Mon", "Tue", "Wed", "Thu", "Fri"]
      start: "09:00"
      end: "18:00"
      
  # é¢‘ç‡é™åˆ¶
  rate_limit:
    # æ¯å°æ—¶æœ€å¤§é€šçŸ¥æ•°
    per_hour:
      default: 30
      critical: 100  # ç´§æ€¥æ— é™åˆ¶
      
    # æ¯å¤©æœ€å¤§é€šçŸ¥æ•°
    per_day:
      default: 200
      critical: 1000
      
  # èšåˆè§„åˆ™
  aggregation:
    enabled: true
    window: 300  # 5åˆ†é’Ÿå†…ç›¸ä¼¼æ¶ˆæ¯èšåˆ
    max_count: 10  # æœ€å¤šèšåˆæ•°é‡
    
  # è¿‡æ»¤è§„åˆ™
  filters:
    # å¸ç§è¿‡æ»¤
    symbols:
      whitelist: []  # ç™½åå•
      blacklist: []  # é»‘åå•
      
    # ä»·æ ¼å˜åŠ¨è¿‡æ»¤
    price_change:
      min_percent: 1.0  # æœ€å°å˜åŠ¨ç™¾åˆ†æ¯”
      
    # é‡‘é¢è¿‡æ»¤
    amount:
      min_usd: 10000  # æœ€å°é‡‘é¢

# ==================== é€šçŸ¥å†…å®¹é…ç½® ====================
content:
  # è¯­è¨€è®¾ç½®
  language: "zh_CN"  # zh_CN/en_US
  
  # æ—¶åŒºè®¾ç½®
  timezone: "Asia/Shanghai"
  
  # æ ¼å¼è®¾ç½®
  format:
    time: "%Y-%m-%d %H:%M:%S"
    number: "{:,.2f}"
    percent: "{:.2%}"
    
  # é™„åŠ ä¿¡æ¯
  footer:
    enabled: true
    text: "Tigeræ™ºèƒ½äº¤æ˜“ç³»ç»Ÿ"
    
  # é“¾æ¥é…ç½®
  links:
    dashboard: ""  # æ§åˆ¶é¢æ¿é“¾æ¥
    docs: ""       # æ–‡æ¡£é“¾æ¥

# ==================== æ•…éšœè½¬ç§»é…ç½® ====================
failover:
  enabled: true
  
  # ä¸»å¤‡åˆ‡æ¢
  primary_channel: "telegram"
  backup_channels:
    - "email"
    - "dingtalk"
    
  # é‡è¯•ç­–ç•¥
  retry:
    max_attempts: 3
    backoff: "exponential"  # linear/exponential
    initial_delay: 60  # ç§’
    max_delay: 3600    # ç§’
    
  # é™çº§ç­–ç•¥
  degradation:
    enabled: true
    rules:
      - condition: "channel_failure"
        action: "use_backup"
      - condition: "rate_exceeded"
        action: "queue_message"

# ==================== æ—¥å¿—ä¸ç›‘æ§ ====================
logging:
  # é€šçŸ¥æ—¥å¿—
  notification_log:
    enabled: true
    path: "logs/notifications.log"
    level: "INFO"
    
  # å¤±è´¥æ—¥å¿—
  failure_log:
    enabled: true
    path: "logs/notification_failures.log"
    
  # ç»Ÿè®¡ä¿¡æ¯
  statistics:
    enabled: true
    interval: 3600  # æ¯å°æ—¶ç»Ÿè®¡
    
# ==================== æµ‹è¯•é…ç½® ====================
testing:
  enabled: true
  
  # æµ‹è¯•æ¨¡å¼ï¼ˆä¸å®é™…å‘é€ï¼‰
  dry_run: false
  
  # æµ‹è¯•æ¥æ”¶è€…
  test_recipients:
    email: "test@example.com"
    telegram: "@test_channel"
    
  # æµ‹è¯•æ¶ˆæ¯
  test_message:
    type: "test"
    priority: "low"
    content: "è¿™æ˜¯ä¸€æ¡æµ‹è¯•æ¶ˆæ¯"